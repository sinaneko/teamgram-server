version: "3"

services:
  teamgram:
    build: .
    restart: always
    ports:
      # - "10.0.2.2:10443:10443"
      # - "10.0.2.2:11443:11443"
      # - "10.0.2.2:20450:20450"
      # - "10.0.2.2:20010:20010"
      # - "10.0.2.2:20020:20020"
      # - "10.0.2.2:20640:20640"
      # - "10.0.2.2:20110:20110"
      # - "10.0.2.2:5222:5222"
      # - "10.0.2.2:8801:8801"
      # - "10.0.2.2:20660:20660"
      # - "10.0.2.2:20650:20650"
      # - "10.0.2.2:20030:20030"
      # - "10.0.2.2:20120:20120"
      # - "10.0.2.2:20670:20670"
      # - "10.0.2.2:20420:20420"

      # - "127.0.0.1:10443:10443"
      # - "127.0.0.1:11443:11443"
      # - "127.0.0.1:20450:20450"
      # - "127.0.0.1:20010:20010"
      # - "127.0.0.1:20020:20020"
      # - "127.0.0.1:20640:20640"
      # - "127.0.0.1:20110:20110"
      # - "127.0.0.1:5222:5222"
      # - "127.0.0.1:8801:8801"
      # - "127.0.0.1:20660:20660"
      # - "127.0.0.1:20650:20650"
      # - "127.0.0.1:20030:20030"
      # - "127.0.0.1:20120:20120"
      # - "127.0.0.1:20670:20670"
      # - "127.0.0.1:20420:20420"

      - "10443:10443"
      - "11443:11443"
      - "20450:20450"
      - "20010:20010"
      - "20020:20020"
      - "20640:20640"
      - "20110:20110"
      - "5222:5222"
      - "8801:8801"
      - "20660:20660"
      - "20650:20650"
      - "20030:20030"
      - "20120:20120"
      - "20670:20670"
      - "20420:20420"
    networks:
      - teamgram_net

networks:
  teamgram_net:
    driver: bridge
    ipam:
      config:
        - subnet: 172.20.0.0/16
